<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#4F46E5">
    <meta name="description" content="Simple mood tracker PWA to log and view your daily mood">
    
    <title>Mood Tracker</title>
    
    <!-- PWA manifest -->
    <link rel="manifest" href="manifest.json">
    
    <!-- Apple PWA support -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="default">
    <meta name="apple-mobile-web-app-title" content="Mood Tracker">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">
    
    <!-- Favicon -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    
    <!-- Styles -->
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <!-- Large Weather Icon Background -->
        <div id="weather-bg-icon" class="weather-bg-icon">⛅</div>
        
        <!-- Save Indicator -->
        <div id="save-indicator" class="save-indicator hidden">
            <div class="floppy-icon">
                <div class="top-label">
                    <div class="write-protect-tab"></div>
                </div>
                <div class="main-label"></div>
            </div>
        </div>
        
        <header>
        </header>

        <!-- Navigation -->
        <nav class="view-navigation">
            <button id="mood-view-btn" class="view-btn active">Today</button>
            <button id="history-view-btn" class="view-btn">History</button>
        </nav>

        <main>
            <!-- Mood Entry View -->
            <section id="mood-view" class="view active">
                <div class="mood-entry">
                    <div class="mood-entry-content">
                        <h3>How are you today?</h3>
                        <div class="mood-scale">
                            <button class="mood-btn" data-mood="1"></button>
                            <button class="mood-btn" data-mood="2"></button>
                            <button class="mood-btn" data-mood="3"></button>
                            <button class="mood-btn" data-mood="4"></button>
                            <button class="mood-btn" data-mood="5"></button>
                        </div>
                        
                        <div class="thoughts-section">
                            <label for="thoughts-input" class="thoughts-label">Thoughts & Notes</label>
                            <textarea id="thoughts-input" class="thoughts-input" placeholder="What's on your mind today..."></textarea>
                        </div>
                        
                        <div class="tags-section">
                            <div class="tags-container">
                                <!-- Core activities (always visible) -->
                                <div class="core-tags">
                                    <button class="tag-btn" data-tag="meditation">Meditation</button>
                                    <button class="tag-btn" data-tag="sports">Sports</button>
                                </div>
                                
                                <!-- Mood-specific tags (dynamic) -->
                                <div id="mood-tags" class="mood-tags"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- History View -->
            <section id="history-view" class="view">
                <div class="mood-history">
                    <h2>Mood History</h2>
                    <div class="chart-container">
                        <div class="chart-wrapper">
                            <div class="chart-area">
                                <div class="chart-grid">
                                    <div id="chart-content" class="chart-content">
                                        <svg class="connection-line" width="100%" height="100%">
                                            <path id="mood-path" stroke="#000000" stroke-width="3" fill="none" stroke-linecap="round" stroke-linejoin="round"/>
                                        </svg>
                                        <div class="today-indicator"></div>
                                        <div class="x-axis" id="x-axis"></div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="no-entries" id="no-chart-entries" style="display: none;">
                            <p>No mood entries yet. Start by rating your mood!</p>
                        </div>
                    </div>
                </div>
            </section>
        </main>

        <!-- Bottom Date Navigation -->
        <div class="bottom-navigation">
            <div class="date-navigation">
                <button id="prev-day" class="nav-btn" title="Previous day (swipe right)">◀</button>
                <div class="nav-date-info">
                    <h2 id="selected-date">Today</h2>
                    <p id="date-display"></p>
                </div>
                <button id="next-day" class="nav-btn" title="Next day (swipe left)">▶</button>
            </div>
        </div>
    </div>

    <script src="app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('sw.js');
        }
    </script>
</body>
</html>